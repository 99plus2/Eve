* { box-sizing: border-box }
body { height:100vh; -webkit-user-select: none; background: #202020; color: #ccc; font-family: Avenir, Arial; display:flex; }
div { display:flex; }
div[contenteditable] { display:inline-block; }
.__root { flex: 1; display:flex; }

::-webkit-scrollbar { width: 8px; height: 8px; background: rgba(0, 0, 0, 0.1); border-radius: 3px; }
::-webkit-scrollbar-corner { display: none; }
::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.5); }


.lifted { position: absolute; top: -20px; -webkit-user-select: initial; }

.dropdown { overflow-y: auto; overflow-x: hidden; }
.dropdown > .dropdown-item { padding: 0.2em; }

.searcher { flex-direction: column; }
.searcher > .searcher-input { height: 1.5rem; flex: 0 0 auto; }
.searcher > .searcher-results { flex: 1; }

/*-----------------------------------------------------------------------------
- table
-----------------------------------------------------------------------------*/

th { background: rgba(255,255,255, 0.1); }
td, th { padding:3px 8px; min-width: 50px; text-align:left; }
td > *, th > * { min-width:30px; }
th:first-child { border-radius: 2px 0 0 2px; }
th:last-child { border-radius: 0 2px 2px 0; }

td .input { width:100%; }

.table-headers th { background: none; text-align:center; }
tr:hover td { background: rgba(255,255,255,0.05); }

.gap {background: none; padding: 0; min-width:10px;}

.failed { background: rgba(255,79,109,0.1); color: transparent; border:1px solid rgba(255,79,109,0.); border-left:none; text-align:left; }

/*-----------------------------------------------------------------------------
- stage
-----------------------------------------------------------------------------*/

.stage { display:flex; }
.root { flex:1; flex-direction:column; }

.stage-tiles-wrapper { overflow:auto; position:absolute; top:50px; bottom:0; left: 0; right:100px; }
.stage-tiles-wrapper::-webkit-scrollbar { display:none; }
.scrolling .stage-tiles-wrapper * { pointer-events:none !important;}

.stage-tiles { width:100%; }
.tile-outline { border: 1px solid #acf; }

/*-----------------------------------------------------------------------------
- grid tile
-----------------------------------------------------------------------------*/

.grid-tile { display:flex; position: absolute; z-index: 1;  background: #2c2c2c; border-radius: 3px; transform-style: preserve-3d;  }
.grid-tile .tile { flex: 1; overflow:hidden; }
.grid-tile > .controls { opacity:0; padding: 5px 5px; flex:none; transition:opacity 0.2s ease-in-out; }
.grid-tile:hover > .controls { opacity:1; }
.resize-tile { transform: rotateZ(-45deg); overflow:hidden; position:absolute; bottom:0; }
.grid-tile > .controls { flex-direction:column; }

/*-----------------------------------------------------------------------------
- minimap
-----------------------------------------------------------------------------*/

.minimap { position:absolute; top:50px; bottom:0; right:0; width:100px; background:#1c1c1c; box-shadow:inset 0 0 5px #171717; border-left:0px solid #111; overflow:hidden;}
.minimap .thumb { position:absolute; z-index: 10; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255, 0.25); border-radius:2px; }
.minimap .minimap-tile { position:absolute; background: #333; z-index:1; color:rgba(255,255,255, 0.5); font-size: 8pt; overflow:hidden; display:flex; justify-content:center; align-items:center; }
.minimap .minimap-tile.ui { background: #555; }
.minimap .minimap-tile.view { background: #355; }
.minimap .minimap-tile.table { background: #346; }

/*-----------------------------------------------------------------------------
- input
-----------------------------------------------------------------------------*/

.input { outline:none; }

/*-----------------------------------------------------------------------------
- ui editor
-----------------------------------------------------------------------------*/

.ui-editor { flex: 1; }

.ui-editor .controls { flex-direction:column; margin-top:10px; }
.ui-editor .controls .control-item { flex:none; flex-direction:column; padding:5px 15px; align-items:center; font-size:10pt; }
.ui-editor .controls .control-item:hover { background:#555; }
.ui-editor .controls .icon { width:30px; height:30px; border: 1px solid #999;  border-radius:2px; margin-bottom:5px; }

.ui-canvas {flex: 1; position:relative; overflow:hidden; background:#fff; margin:10px 0; }
.ui-canvas .control { background:#555; }
.ui-canvas .control.selected { border: 1px solid #acf; }
.ui-canvas .resize-handle { position:absolute; background: rgba(170,204,255,0.3); border: 1px solid #acf; z-index: 1000; }

.selection { border: 1px solid #acf; pointer-events: none; z-index:100; }
.selection .trash { position:absolute; top: -40px; right: -40px; font-size: 20pt; color: #acf; padding:4px 10px; pointer-events:auto; border-radius:2px; }
.selection .trash:hover { background: #833; color: #fcc; }
.selection .coordinates { position:absolute; right: -70px; width:50px; flex-direction:column; align-items:flex-start; font-size:10pt; color:#acf; }
.selection .color { position:absolute; color:#acf; font-size:24px; right: 0px; width:20px; height:24px; top: -35px; border-radius:2px; border:none; pointer-events:auto; outline:none; }
.selection .color input { width:2px; height:24px; opacity:0; }
.resize-handle { pointer-events: auto; }

.grid { z-index: 0; pointer-events:none; }

.inspector { flex-direction:column; width:150px; margin-left:10px; }
.layers { flex-direction: column; margin-top:10px }
.layer { display:flex; padding:5px; border-radius:2px; background:#444; }
.layer + .layer { margin-top:1px; }
.layer.active { background:#777; color: #eee; }
.layer > * + *  { margin-left:10px; }
.layer .input { flex:1; }
.add-layer { padding:5px; border-radius:2px; flex:none; width:25px; justify-content:center; }
.add-layer:hover { background: #666; }
.layers .ion-eye-disabled { color: #f88; }
.layers .ion-locked { color: #f88; }
.hidden { display:none; }
.locked { pointer-events: none; }

.inspector-panel { flex-direction:column; margin-bottom:1px; }
.inspector-panel .pair + .pair { margin-top:1px; }
.inspector-panel .label { padding: 5px; }
.inspector-panel .input { background: #111; flex:1; padding:5px; }

/*-----------------------------------------------------------------------------
- view editor
-----------------------------------------------------------------------------*/

.view-tile { display:flex; }
.view-source-code { flex-direction: column; }
.view-source-code > .step { flex: 0 0 auto; }
.view-source-code > .view-query-builder { flex: 0 0 auto; }
.view-source-code > .searcher { flex: 1; }

.token { display: inline-block; margin: 0.2em; white-space: nowrap; }
.token.editable { border-bottom: 1px solid rgba(0, 192, 255, 0.5); }
.token.editable:hover { border-bottom: 1px solid rgba(16, 208, 255, 0.8); box-shadow: 0 1px 2px -1px rgba(16, 208, 255, 0.8); }
.token.editable:active { border-bottom: 1px solid rgba(16, 208, 255, 1); box-shadow: 0 2px 2px -1px rgba(16, 208, 255, 1); }

/*-----------------------------------------------------------------------------
- chooser tile
-----------------------------------------------------------------------------*/

.chooser-tile { display:flex; flex: 1; }
.chooser-tile .option { flex: 1; display:flex; flex-direction:column; align-items:center; justify-content:center; border-radius:2px; padding:0 15px; }
.chooser-tile .option:hover { background:rgba(255,255,255,0.1); }
.chooser-tile .description { text-align:center; }
.chooser-tile .icon { font-size: 40px; margin-bottom:10px; }


